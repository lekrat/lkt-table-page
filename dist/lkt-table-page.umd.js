(function(e,a){typeof exports=="object"&&typeof module<"u"?module.exports=a(require("vue"),require("lkt-table"),require("lkt-paginator")):typeof define=="function"&&define.amd?define(["vue","lkt-table","lkt-paginator"],a):(e=typeof globalThis<"u"?globalThis:e||self,e.LktTablePage=a(e.Vue,e.LktTable,e.LktPaginator))})(this,function(e,a,u){"use strict";const d=t=>t&&typeof t=="object"&&"default"in t?t:{default:t},p=d(a),g=d(u),y={class:"lkt-table-page"},b={key:0},B={key:0},V={key:1,class:"lkt-table-page-buttons"},h={key:2,class:"lkt-table-page-filters"},C={key:5,class:"lkt-table-page-empty"},_={name:"LktTablePage",inheritAttrs:!1},L=e.defineComponent({..._,props:{page:{type:Number,default:1},resource:{type:String,default:""},noResultsText:{type:String,default:"No results"},title:{type:String,default:""},columns:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})}},setup(t){const r=e.useSlots(),m=t,f=e.ref(m.page),s=e.ref([]),S=e.ref(!0),c=e.ref(!0),k=e.ref(!1),T=e.computed(()=>m.columns.map(l=>l.key)),N=e.computed(()=>{S.value;let l=[];for(let o in r)T.value.indexOf(o)!==-1&&l.push(o);return l}),P=l=>{s.value=l,c.value=!1,k.value=!0},E=()=>e.nextTick(()=>c.value=!0);return(l,o)=>{const x=e.resolveComponent("lkt-loader"),R=e.resolveComponent("lkt-table"),$=e.resolveComponent("lkt-paginator");return e.openBlock(),e.createElementBlock("section",y,[t.title||e.unref(r).title?(e.openBlock(),e.createElementBlock("header",b,[t.title?(e.openBlock(),e.createElementBlock("h2",B,e.toDisplayString(t.title),1)):e.createCommentVNode("",!0),e.unref(r).title?e.renderSlot(l.$slots,"title",{key:1}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.unref(r).buttons?(e.openBlock(),e.createElementBlock("div",V,[e.renderSlot(l.$slots,"buttons")])):e.createCommentVNode("",!0),k.value&&e.unref(r).filters?(e.openBlock(),e.createElementBlock("div",h,[e.renderSlot(l.$slots,"filters")])):e.createCommentVNode("",!0),c.value?(e.openBlock(),e.createBlock(x,{key:3})):e.createCommentVNode("",!0),!c.value&&s.value.length>0?(e.openBlock(),e.createBlock(R,{key:4,modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=n=>s.value=n),columns:t.columns},e.createSlots({_:2},[e.renderList(N.value,n=>({name:n,fn:e.withCtx(i=>[e.renderSlot(l.$slots,n,{item:i.item,value:i.value,column:i.column})])}))]),1032,["modelValue","columns"])):e.createCommentVNode("",!0),!c.value&&s.value.length===0?(e.openBlock(),e.createElementBlock("div",C,e.toDisplayString(t.noResultsText),1)):e.createCommentVNode("",!0),e.createVNode($,{modelValue:f.value,"onUpdate:modelValue":o[1]||(o[1]=n=>f.value=n),resource:t.resource,filters:t.filters,onResults:P,onLoading:E},null,8,["modelValue","resource","filters"])])}}}),j="";return{install:t=>{t.component("lkt-table-page")===void 0&&t.component("lkt-table-page",L),t.component("lkt-table")===void 0&&t.use(p.default),t.component("lkt-paginator")===void 0&&t.use(g.default)}}});
